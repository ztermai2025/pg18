<svg version="1.1" width="600" height="321" xmlns="http://www.w3.org/2000/svg" >
<defs><marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto"><polygon points="0 0, 10 3.5, 0 7" /></marker></defs>
<path id="bottomxline" d="M 10 320 h 580" stroke="#FFFFFF" stroke-width="1" fill="none" />
<g transform="translate(0, -10)">
<path d="M 300 20 h 70 a 15 15 0 0 1 0 30 h -140 a 15 15 0 0 1 0 -30 h 70" stroke="#0000FF" stroke-width="1" fill="none" />
<text x="228" y="38" style="font-size:13px;font-family:'Courier New'">AllocSetAlloc(size)</text>
<path d="M 300 52 v 10 " stroke="#000000" stroke-width="1" fill="none" marker-end="url(#arrowhead)" />

<path d="M 300 75 l 100 20 l -100 20 l -100 -20 l 100 -20" stroke="#0000FF" stroke-width="1" fill="none" />
<text x="234" y="98" style="font-size:13px;font-family:'Courier New'">>allocChunkLimit?</text>
<path d="M 300 117 v 10 " stroke="#000000" stroke-width="1" fill="none" marker-end="url(#arrowhead)" />

<text x="307" y="128" style="font-size:13px;font-family:'Arial'">N</text>
<text x="402" y="90" style="font-size:13px;font-family:'Arial'">Y</text>
<path d="M 402 95 h 78 V 193" stroke="#000000" stroke-width="1" fill="none" marker-end="url(#arrowhead)" />
<rect x="420" y="205" width="120" height="30" style="fill:none;stroke:#0000FF;stroke-width:1" />
<text x="427" y="225" style="font-size:13px;font-family:'Microsoft Yahei'">(3)分配单块内存片</text>
<path d="M 480 237 V 250 H 312" stroke="#000000" stroke-width="1" fill="none" marker-end="url(#arrowhead)" />
<path d="M 300 140 l 100 20 l -100 20 l -100 -20 l 100 -20" stroke="#0000FF" stroke-width="1" fill="none" />
<text x="250" y="163" style="font-size:13px;font-family:'Microsoft Yahei'">空闲数组中有否?</text>
<path d="M 198 160 h -78 v 33" stroke="#000000" stroke-width="1" fill="none" marker-end="url(#arrowhead)" />
<rect x="60" y="205" width="120" height="30" style="fill:none;stroke:#0000FF;stroke-width:1" />
<text x="67" y="225" style="font-size:13px;font-family:'Microsoft Yahei'">(1)从空闲数组中取</text>
<text x="195" y="155" style="font-size:13px;font-family:'Arial'">Y</text>
<path d="M 120 237 V 250 H 288" stroke="#000000" stroke-width="1" fill="none" marker-end="url(#arrowhead)" />
<path d="M 300 182 v 10 " stroke="#000000" stroke-width="1" fill="none" marker-end="url(#arrowhead)" />
<rect x="240" y="205" width="120" height="30" style="fill:none;stroke:#0000FF;stroke-width:1" />
<text x="247" y="225" style="font-size:13px;font-family:'Microsoft Yahei'">(2)在活跃块中分配</text>
<path d="M 300 237 v 20 " stroke="#000000" stroke-width="1" fill="none" marker-end="url(#arrowhead)" />
<text x="307" y="195" style="font-size:13px;font-family:'Arial'">N</text>
<rect x="200" y="270" width="200" height="30" style="fill:none;stroke:#0000FF;stroke-width:1" />
<text x="218" y="290" style="font-size:13px;font-family:'Microsoft Yahei'">把内存片的指针返回给调用者</text>
</g>
</svg>
